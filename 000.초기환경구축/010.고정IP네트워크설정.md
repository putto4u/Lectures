Ubuntu 18.04 LTS 버전부터 도입된 **Netplan**을 사용하여 네트워크 설정을 관리하는 방법입니다. 우분투 환경에서 고정 IP를 할당하고 게이트웨이 및 DNS를 설정하는 표준 절차를 정리합니다.

---

## 1. 네트워크 인터페이스 이름 확인

설정 파일을 수정하기 전, IP를 부여할 네트워크 인터페이스의 정확한 명칭을 확인해야 합니다.

```bash
ip addr

```

* 출력 결과에서 `eth0`, `ens33`, `enp0s3` 등과 같은 인터페이스 이름을 확인합니다.

---

## 2. Netplan 설정 파일 수정

Netplan 설정 파일은 `/etc/netplan/` 디렉토리에 `.yaml` 확장자로 존재합니다. 파일명은 시스템마다 다를 수 있습니다(예: `01-netcfg.yaml`, `50-cloud-init.yaml`).

```bash
# 설정 파일 목록 확인
ls /etc/netplan/

# 설정 파일 편집 (파일 이름이 01-netcfg.yaml 또는 50-cloud-init.yaml 인 경우 큰 숫자를 편집한다.)
sudo vi /etc/netplan/50-cloud-init.yaml 

```
## 3. 고정 IP 설정 (YAML 작성)

YAML 파일의 특성상 **들여쓰기(Space)**가 매우 중요합니다. 탭(Tab) 대신 공백을 사용해야 합니다.

```yaml
network:
  version: 2
  renderer: networkd
  ethernets:
    enp0s3:                  # 1번 항목에서 확인한 인터페이스 이름
      dhcp4: no             # DHCP 비활성화
      addresses:
        - 192.168.1.100/24  # 고정 IP 주소 및 서브넷 마스크(Netmask)
      routes:
        - to: default
          via: 192.168.10.1  # 게이트웨이(Gateway) 주소
      nameservers:
        addresses:
          - 8.8.8.8         # 기본 DNS (Google)
          - 8.8.4.4         # 보조 DNS (Google)

```

### 주요 설정 항목 설명

| 항목 | 설명 |
| --- | --- |
| **addresses** | `IP주소/서브넷마스크` 형식으로 입력합니다. (24는 255.255.255.0과 동일) |
| **routes** | `via` 항목에 기본 게이트웨이 IP를 입력하여 외부 통신 경로를 지정합니다. |
| **nameservers** | DNS 서버 주소를 입력합니다. 여러 개일 경우 쉼표로 구분하거나 리스트 형식으로 작성합니다. |

---

## 4. 설정 변경 사항 적용

작성한 파일에 문법 오류가 없는지 테스트하고 시스템에 적용합니다.

```bash
# 설정 파일 문법 검사 및 적용
sudo netplan apply

```

만약 오류가 발생한다면 들여쓰기가 정확한지 다시 한번 확인해야 합니다.

---

## 5. 설정 결과 확인

IP가 정상적으로 할당되었고 게이트웨이와 통신이 가능한지 점검합니다.

```bash
# IP 주소 확인
ip addr show ens33

# 게이트웨이 설정 확인
ip route

# 외부 네트워크 연결 테스트 (DNS 작동 확인)
ping -c 3 google.com

```

---

**Next Step: DNS 트러블슈팅 및 /etc/resolv.conf 관리 방식**

**핵심 단어**
netplan, yaml, static-ip, gateway, dns-server
