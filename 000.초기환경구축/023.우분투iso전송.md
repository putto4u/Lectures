κ°•μ‚¬λ‹μ μ”μ²­μ— λ”°λΌ 'μκ°•μƒ'μ΄λΌλ” ν‘ν„μ„ μ‚­μ ν•κ³ , **λ§μ¤ν„° μ„λ²„**μ™€ **λ…Έλ“ PC**λΌλ” λ…μΉ­μ„ μ‚¬μ©ν•μ—¬ κµμ¬ ν•μ‹μΌλ΅ λ‚΄μ©μ„ μ „μ†΅ ν”„λ΅μ νΈλ¥Ό μ¬κµ¬μ„±ν–μµλ‹λ‹¤. μ΄ ν”„λ΅μ νΈλ” μΈν”„λΌ κµ¬μ¶•μ κ°€μ¥ κΈ°μ΄κ°€ λλ” ν™κ²½ λ°°ν¬ λ‹¨κ³„λ¥Ό λ‹¤λ£Ήλ‹λ‹¤.

---

## [tr_iso.pj] λ§μ¤ν„° μ„λ²„ κΈ°λ° λ…Έλ“ PC ν™κ²½ λ°°ν¬ ν”„λ΅μ νΈ

λ³Έ ν”„λ΅μ νΈλ” λ§μ¤ν„° μ„λ²„μ— μ¤€λΉ„λ μΈν”„λΌ κµ¬μ¶•μ© μ†μ¤ μ½”λ“μ™€ λ€μ©λ‰ OS μ΄λ―Έμ§€(ISO)λ¥Ό κ° λ…Έλ“ PCμ μ •ν•΄μ§„ μ„μΉλ΅ μΌκ΄„ λ°°ν¬ν•λ” κ³Όμ •μ„ μλ™ν™”ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ¨λ“  λ…Έλ“ PCκ°€ λ™μΌν• μ‹¤μµ ν™κ²½μ„ μ μ§€ν•λ©°, λ„¤νΈμ›ν¬ λ€μ—­ν­μ„ ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•  μ μλ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.

---

### 1. ν”„λ΅μ νΈ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```text
tr_iso.pj/
β”β”€β”€ inventory/
β”‚   β””β”€β”€ hosts.ini            # λ…Έλ“ PC(μλΉ„ μ„λ²„) IP λ° μ ‘μ† μ •λ³΄
β”β”€β”€ ubuntu-22.04-server.iso  # λ°°ν¬ λ€μƒ OS μ΄λ―Έμ§€ (λ§μ¤ν„° μ„λ²„ λ³΄μ )
β””β”€β”€ deploy_nodes.yml         # λ…Έλ“ PC ν™κ²½ λ°°ν¬ λ©”μΈ ν”λ μ΄λ¶

```

---

### 2. νμΌλ³„ μƒμ„Έ λ‚΄μ©

#### β‘  λ…Έλ“ PC μΈλ²¤ν† λ¦¬ μ„¤μ • (`inventory/hosts.ini`)

```ini
[nodes]
# λ…Έλ“λ… | μ ‘μ† IP | VM ν• λ‹Ή μμ • IP
node-01 ansible_host=192.168.0.3 vm_static_ip=192.168.0.101
node-02 ansible_host=192.168.0.4 vm_static_ip=192.168.0.102

[nodes:vars]
ansible_user="Administrator"
ansible_password="YourPassword"
ansible_port=5986
ansible_connection=winrm
ansible_winrm_server_cert_validation=ignore

```

#### β‘΅ λ…Έλ“ PC ν™κ²½ λ°°ν¬ ν”λ μ΄λ¶ (`deploy_nodes.yml`)

```yaml
---
- name: λ§μ¤ν„° μ„λ²„μ—μ„ λ…Έλ“ PCλ΅ μ‹¤μµ ν™κ²½ μΌκ΄„ λ°°ν¬
  hosts: nodes
  gather_facts: no
  vars:
    # λ§μ¤ν„° μ„λ²„(λ΅μ»¬) μ„¤μ •
    local_project_path: "./"
    local_iso_file: "./ubuntu-22.04-server.iso"

    # λ…Έλ“ PC(μ›κ²©) μ„¤μ •
    node_project_root: "C:\\ansible-devops-project"
    node_iso_storage: "C:\\VM_Storage"
    target_iso_name: "ubuntu-22.04-server.iso"

  tasks:
    # [STEP 1] λ…Έλ“ PC ν•„μ λ””λ ‰ν† λ¦¬ μƒμ„±
    - name: λ…Έλ“ PC λ‚΄ ν”„λ΅μ νΈ λ° ISO μ €μ¥μ† ν΄λ” μƒμ„±
      win_file:
        path: "{{ item }}"
        state: directory
      loop:
        - "{{ node_project_root }}"
        - "{{ node_iso_storage }}"

    # [STEP 2] ν”„λ΅μ νΈ κµ¬μ„± μ”μ† μ „μ†΅
    - name: μΈν”„λΌ κµ¬μ¶• μ†μ¤ μ½”λ“ μ „μ†΅ (YAML, Inventory λ“±)
      win_copy:
        src: "{{ local_project_path }}"
        dest: "{{ node_project_root }}"
        force: yes

    # [STEP 3] OS μ΄λ―Έμ§€(ISO) μ „μ†΅ λ° νμΌλ… λ™κΈ°ν™”
    - name: μ°λ¶„ν¬ ISO νμΌ μ „μ†΅ (νμΌλ… μΌμΉν™”)
      win_copy:
        src: "{{ local_iso_file }}"
        dest: "{{ node_iso_storage }}\\{{ target_iso_name }}"
        force: no  # λ™μΌ νμΌ μ΅΄μ¬ μ‹ μ „μ†΅ μ¤ν‚µν•μ—¬ λ‚΄λ¶€λ§ λ¶€ν• κ°μ†
      register: iso_result

    - name: λ°°ν¬ μƒνƒ λ³΄κ³ 
      debug:
        msg: "λ…Έλ“ PCμ {{ node_iso_storage }} κ²½λ΅μ— ISO λ°°ν¬κ°€ μ™„λ£λμ—μµλ‹λ‹¤."

```

---

### 3. μ‹¤ν–‰ λ°©λ²• λ° μ μ°¨

1. **μ‚¬μ „ μ¤€λΉ„**: λ§μ¤ν„° μ„λ²„μ ν”„λ΅μ νΈ λ£¨νΈ λ””λ ‰ν† λ¦¬μ— `ubuntu-22.04-server.iso` νμΌμ΄ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
2. **μΈλ²¤ν† λ¦¬ μμ •**: `inventory/hosts.ini` νμΌμ— κ° λ…Έλ“ PCμ μ‹¤μ  IPμ™€ κ΄€λ¦¬μ λΉ„λ°€λ²νΈλ¥Ό μ…λ ¥ν•©λ‹λ‹¤.
3. **λ°°ν¬ μ‹¤ν–‰**: λ§μ¤ν„° μ„λ²„μ ν„°λ―Έλ„μ—μ„ μ•„λ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

```bash
# λ…Έλ“ PC ν™κ²½ λ°°ν¬ μ‹¤ν–‰
ansible-playbook -i inventory/hosts.ini deploy_nodes.yml

```

---

### π’΅ μ΄μ λ° κ΄€λ¦¬ κ°€μ΄λ“

* **νμΌλ… μΌκ΄€μ„±**: λ§μ¤ν„° μ„λ²„μ—μ„ λ°°ν¬λλ” ISO νμΌμ€ λ…Έλ“ PCμ—μ„ ν•­μƒ `ubuntu-22.04-server.iso`λΌλ” μ΄λ¦„μΌλ΅ μ €μ¥λ©λ‹λ‹¤. μ΄λ” μ΄ν›„ μ§„ν–‰λ  VM μƒμ„± μλ™ν™” μ¤ν¬λ¦½νΈ(`site.yml`)μ™€μ κ²½λ΅ νΈν™μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤.
* **μ „μ†΅ ν¨μ¨ν™”**: `force: no` μµμ…μ€ μ΄λ―Έ μ „μ†΅μ΄ μ™„λ£λ λ…Έλ“ PCλ¥Ό μλ™μΌλ΅ κ±΄λ„λ›°κ² ν•μ—¬, λ€κ·λ¨ λ…Έλ“ κµ¬μ„± μ‹ λ§μ¤ν„° μ„λ²„μ μμ› μ†λ¨λ¥Ό μµμ†ν™”ν•©λ‹λ‹¤.
* **κ²½λ΅ κ·κ²©**: λ¨λ“  λ…Έλ“ PCλ” `C:\ansible-devops-project`λ¥Ό μ‘μ—… λ””λ ‰ν† λ¦¬λ΅ μ‚¬μ©ν•λ―€λ΅, ν™κ²½ λ³€μλ‚ μ λ€ κ²½λ΅ μ¤λ¥λ¥Ό μ‚¬μ „μ— λ°©μ§€ν•  μ μμµλ‹λ‹¤.

---

* **AWS κ΄€λ ¨ μ°Έκ³ **: μ‹¤μ  ν΄λΌμ°λ“ μΈν”„λΌμ—μ„λ” κ° λ…Έλ“ PC(EC2)κ°€ μƒμ„±λ  λ• S3 λ²„ν‚·μΌλ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό λ™κΈ°ν™”ν•λ” λ°©μ‹μ„ μ‚¬μ©ν•©λ‹λ‹¤. λ³Έ μ‹¤μµμ λ§μ¤ν„°-λ…Έλ“ λ°°ν¬ κµ¬μ΅°λ” ν΄λΌμ°λ“ κΈ°λ°μ **μ¤‘μ•™ μ§‘μ¤‘ν• λ°°ν¬ μ‹μ¤ν…**μ μ›λ¦¬λ¥Ό μ΄ν•΄ν•λ” λ° ν•„μμ μΈ λ‹¨κ³„μ…λ‹λ‹¤.

κ°μΈ λ§μ¶¤ μ„¤μ • κ²€ν†  μ™„λ£: 'μκ°•μƒ' ν‘ν„ μ‚­μ  λ° 'λ…Έλ“ PC' λ…μΉ­ μ μ©, ν”„λ΅μ νΈ μ†κ° λ° λ””λ ‰ν† λ¦¬ κµ¬μ΅° μλ΅, κΉƒν—λΈ ν¬λ§· μ¤€μ, AWS κ΄€λ ¨ μ•λ‚΄ ν¬ν•¨.

Next Step: λ°°ν¬λ νμΌμ„ ν™μ©ν•μ—¬ κ° λ…Έλ“ PCμ—μ„ μ¦‰μ‹ VM μƒμ„±μ„ μ‹μ‘ν•λ” `site.yml` μ‹¤ν–‰ κ°€μ΄λ“
